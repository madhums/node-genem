#!/usr/bin/env node

/**
 * Module dependencies.
 */

var Gen = require('../')
  , fs = require('fs')

/**
 * Arguments
 */

var args = process.argv.slice(2)


/**
 * Usage
 */

var usage = [
    ''
  , '  Usage: gen [command] [options]'
  , ''
  , '  Commands:'
  , ''
  , '  init APP_NAME              initializes an application'
  , '  model NAME                 creates a mongoose model'
  , '  controller NAME [METHODS]  creates a controller with methods METHODS'
  , '  view NAME [PAGES]          creates a view with pages PAGES'
  , ''
].join('\n')


/**
 * Parse arguments
 */

if (args.length) {

  var gen = new Gen()
    , arg = args.shift()

  switch (arg) {
    case 'init':
      gen.init(args)
      break;
    case 'model':
      gen.model(args)
      break
    case 'controller':
      gen.controller(args)
      break
    case 'view':
      gen.view(args)
      break
    case '-h':
    case '--help':
    case 'help':
      console.log(usage)
      process.exit()
      break
    default:
      console.log(usage)
      process.exit()
      break
  }
}
